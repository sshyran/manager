<div>
  <h1 ng-bind="$ctrl.instance.name"></h1>
  <div class="row">
    <div class="col-md-4">
      <oui-tile heading="{{ 'cloud_project_instance_dashboard_manage' | translate }}">
        <oui-tile-button on-click="$ctrl.onClickEdit({ instance: $ctrl.instance })">
          <span translate="cloud_project_instance_dashboard_edit"></span>
        </oui-tile-button>
        <oui-tile-button on-click="$ctrl.onClickBackupCreate({ instance: $ctrl.instance })">
          <span translate="cloud_project_instance_dashboard_backup_create"></span>
        </oui-tile-button>
        <oui-tile-button on-click="$ctrl.onClickRescue({ instance: $ctrl.instance })">
          <span translate="cloud_project_instance_dashboard_rescue"></span>
        </oui-tile-button>
        <oui-tile-button on-click="$ctrl.onClickSoftReboot({ instance: $ctrl.instance })">
          <span translate="cloud_project_instance_dashboard_soft_reboot"></span>
        </oui-tile-button>
        <oui-tile-button on-click="$ctrl.onClickHardReboot({ instance: $ctrl.instance })">
          <span translate="cloud_project_instance_dashboard_hard_reboot"></span>
        </oui-tile-button>
        <oui-tile-button on-click="$ctrl.onClickReinstall({ instance: $ctrl.instance })">
          <span translate="cloud_project_instance_dashboard_reinstall"></span>
        </oui-tile-button>
        <oui-tile-button on-click="$ctrl.onClickDelete({ instance: $ctrl.instance })">
          <span translate="cloud_project_instance_dashboard_delete"></span>
        </oui-tile-button>
      </oui-tile>
    </div>
    <div class="col-md-4">
      <oui-tile heading="{{:: 'cloud_project_instance_dashboard_info' | translate }}"
                loading="$ctrl.loading.instance">
        <oui-tile-definition term="{{:: 'cloud_project_instance_dashboard_status' | translate }}">
          <oui-tile-description>
            <ovh-manager-pci-project-instance-dashboard-instance-status-component status="$ctrl.instance.status">
            </ovh-manager-pci-project-instance-dashboard-instance-status-component>
          </oui-tile-description>
        </oui-tile-definition>
        <oui-tile-definition term="{{:: 'cloud_project_instance_dashboard_localisation' | translate }}">
          <oui-tile-description>
            <span ng-bind="$ctrl.instance.region"></span>
          </oui-tile-description>
        </oui-tile-definition>
        <div class="oui-tile__item">
          <dl class="oui-tile__definition">
            <dt class="oui-tile__term"
                translate="cloud_project_instance_dashboard_type">
            </dt>
            <dd class="oui-tile__description">
              <span ng-bind="$ctrl.instance.flavor.name | uppercase"></span>
            </dd>
            <dt class="oui-tile__term"
                translate="cloud_project_instance_dashboard_ram">
            </dt>
            <dd class="oui-tile__description">
              <span ng-bind="$ctrl.instance.flavor.ram * 1000 * 1000 | cucBytes"></span>
            </dd>
            <dt class="oui-tile__term">
              <span translate="cloud_project_instance_dashboard_cpu"></span>
            </dt>
            <dd class="oui-tile__description">
              <span ng-bind="$ctrl.instance.flavor.vcpus"></span>
              <span translate="cloud_project_instance_dashboard_cores"></span>
            </dd>
            <dt class="oui-tile__term"
                translate="cloud_project_instance_dashboard_storage">
            </dt>
            <dd class="oui-tile__description">
              <span ng-bind="$ctrl.instance.flavor.disk * 1024 * 1024 * 1024 | cucBytes:2:'true'"></span>
            </dd>
            <dt class="oui-tile__term"
                translate="cloud_project_instance_dashboard_bandwidth">
            </dt>
            <dd class="oui-tile__description">
              <span ng-bind="$ctrl.instance.flavor.outboundBandwidth"></span>
              <span translate="cloud_project_instance_dashboard_bandwidth_unit"></span>
            </dd>
          </dl>
        </div>
        <div class="oui-tile__item" ng-if="$ctrl.loading.volumes">
          <dl class="oui-tile__definition">
            <dt class="oui-tile__term"
                translate="cloud_project_instance_dashboard_volumes">
            </dt>
            <dd class="oui-tile__description text-center">
              <oui-spinner size="m"></oui-spinner>
            </dd>
          </dl>
        </div>
        <oui-tile-definition term="{{:: 'cloud_project_instance_dashboard_volumes' | translate }}">
          <oui-tile-description
            ng-if="!$ctrl.loading.volumes"
            ng-repeat="volume in $ctrl.volumes track by volume.id">
            <span ng-bind="volume.name"></span>
            <span ng-bind="volume.size * 1024 * 1024 * 1024 | cucBytes:2:'true'"></span>
          </oui-tile-description>
          <oui-tile-description
            ng-if="!$ctrl.loading.volumes && $ctrl.volumes.length === 0">
            <span>-</span>
          </oui-tile-description>
          <oui-action-menu data-compact align="end">
            <oui-action-menu-item text="{{:: 'cloud_project_instance_dashboard_volumes_manage' | translate }}"
                                  on-click="$ctrl.onClickManageVolumes({ instance: $ctrl.instance })">
            </oui-action-menu-item>
            <oui-action-menu-item text="{{:: 'cloud_project_instance_dashboard_volume_attach' | translate }}"
                                  on-click="$ctrl.onClickVolumeAttach({ instance: $ctrl.instance })">
            </oui-action-menu-item>
          </oui-action-menu>
        </oui-tile-definition>
        <oui-tile-definition term="{{:: 'cloud_project_instance_dashboard_openstack_id' | translate }}">
          <oui-tile-description>
            <span ng-bind="$ctrl.instance.id"></span>
          </oui-tile-description>
        </oui-tile-definition>
        <oui-tile-definition term="{{:: 'cloud_project_instance_dashboard_image' | translate }}">
          <oui-tile-description>
            <span ng-bind="$ctrl.instance.image.name || '-'"></span>
          </oui-tile-description>
        </oui-tile-definition>
      </oui-tile>
    </div>
    <div class="col-md-4">
      <oui-tile heading="{{:: 'cloud_project_instance_dashboard_networks' | translate }}"
                loading="$ctrl.loading.instance">
        <oui-tile-definition term="{{:: 'cloud_project_instance_dashboard_ipv4' | translate }}">
          <oui-tile-description>
            <oui-clipboard
              ng-if="$ctrl.getIp(4)"
              model="$ctrl.getIp(4) || ''">
            </oui-clipboard>
            <span ng-if="!$ctrl.getIp(4)">-</span>
          </oui-tile-description>
        </oui-tile-definition>
        <oui-tile-definition term="{{:: 'cloud_project_instance_dashboard_ipv6' | translate }}">
          <oui-tile-description>
            <oui-clipboard
              ng-if="$ctrl.getIp(6)"
              model="$ctrl.getIp(6)">
            </oui-clipboard>
            <span ng-if="!$ctrl.getIp(6)">-</span>
          </oui-tile-description>
        </oui-tile-definition>
        <div class="oui-tile__item" ng-if="$ctrl.loading.privateNetworks">
          <dl class="oui-tile__definition">
            <dt class="oui-tile__term"
                translate="cloud_project_instance_dashboard_private_networks">
            </dt>
            <dd class="oui-tile__description text-center">
              <oui-spinner size="m"></oui-spinner>
            </dd>
          </dl>
        </div>
        <oui-tile-definition
          ng-if="!$ctrl.loading.privateNetworks"
          term="{{:: 'cloud_project_instance_dashboard_private_networks' | translate }}">
          <oui-tile-description
            ng-if="!$ctrl.loading.privateNetworks && $ctrl.privateNetworks.length === 0">
            <span>-</span>
          </oui-tile-description>
          <oui-tile-description
            ng-if="!$ctrl.loading.privateNetworks"
            ng-repeat="network in $ctrl.networks track by network.id">
            <span ng-bind="network.name"></span>
          </oui-tile-description>
          <oui-action-menu data-compact align="end">
            <oui-action-menu-item text="{{:: 'cloud_project_instance_dashboard_private_networks_manage' | translate }}"
                                  on-click="$ctrl.onClickNetworkManage({ instance: $ctrl.instance })">
            </oui-action-menu-item>
            <oui-action-menu-item text="{{:: 'cloud_project_instance_dashboard_private_networks_attach' | translate }}"
                                  on-click="$ctrl.onClickNetworkAttach({ instance: $ctrl.instance })">
            </oui-action-menu-item>
          </oui-action-menu>
        </oui-tile-definition>
        <oui-tile-definition term="{{:: 'cloud_project_instance_dashboard_connection_info' | translate }}">
          <oui-tile-description>
            <oui-clipboard model="$ctrl.getConnectionInfos()"></oui-clipboard>
          </oui-tile-description>
        </oui-tile-definition>
        <oui-tile-definition term="{{:: 'cloud_project_instance_dashboard_ssh_key' | translate }}">
          <oui-tile-description>
            <span ng-bind="$ctrl.instance.sshKey.name || '-'"></span>
          </oui-tile-description>
        </oui-tile-definition>
      </oui-tile>
    </div>
  </div>
</div>
