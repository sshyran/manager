<section>
    <header>
        <h2 data-translate="support_header"></h2>
    </header>

    <oui-datagrid
        data-page-size="10"
        data-rows=":: $ctrl.tickets">
        <oui-column
            data-property="ticketNumber"
            data-searchable
            data-sortable
            data-title=":: 'support_grid_column_ticketNumber_header' | translate"
            data-type="number"></oui-column>
        <oui-column
            data-filterable
            data-property="serviceName"
            data-searchable
            data-sortable
            data-title=":: 'support_grid_column_serviceName_header' | translate"
            data-type="string"></oui-column>
        <oui-column
            data-filterable
            data-property="subject"
            data-searchable
            data-sortable
            data-title=":: 'support_grid_column_subject_header' | translate"
            data-type="string"></oui-column>
        <oui-column
            data-filterable
            data-property="lastMessageFrom"
            data-searchable
            data-sortable
            data-title=":: 'support_grid_column_lastMessageFrom_header' | translate"
            data-type="options"
            data-type-options=":: $ctrl.gridColumnLastMessageFromTypeOptions">
            <span data-ng-bind=":: $ctrl.translateTicketSender($row.lastMessageFrom)"></span>
        </oui-column>
        <oui-column
            data-filterable
            data-property="creationDate"
            data-searchable
            data-sortable
            data-title=":: 'support_grid_column_creationDate_header' | translate"
            data-type="date">
            <time
                data-ng-bind=":: $row.creationDate | date: 'short'"
                datetime="{{:: $row.creationDate }}"></time>
        </oui-column>
        <oui-column
            data-filterable
            data-property="updateDate"
            data-searchable
            data-sortable="dsc"
            data-title=":: 'support_grid_column_updateDate_header' | translate"
            data-type="date">
            <time
                data-ng-bind=":: $row.updateDate | date: 'short'"
                datetime="{{:: $row.updateDate }}"></time>
        </oui-column>
        <oui-column
            data-filterable
            data-property="state"
            data-searchable
            data-sortable
            data-title=":: 'support_grid_column_state_header' | translate"
            data-type="options"
            data-type-options=":: $ctrl.gridColumnStateTypeOptions">
            <span data-ng-bind=":: $ctrl.translateTicketState($row.state)"></span>
        </oui-column>

        <oui-action-menu
            data-align="end"
            data-compact>
            <oui-action-menu-item
                data-text="Voir le dÃ©tail"
                data-on-click=":: $ctrl.goToTicket($row, $ctrl.tickets)"></oui-action-menu-item>
        </oui-action-menu>
    </oui-datagrid>
</section>
