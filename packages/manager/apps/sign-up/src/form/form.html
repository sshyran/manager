<div class="sign-up-form-view">
    <oui-message
        data-type="error"
        data-ng-if="$ctrl.saveError">
        <span class="d-block"
              data-translate="sign_up_form_submit_error">
        </span>
        <small data-ng-bind-html="$ctrl.saveError.data.message"></small>
    </oui-message>

    <ovh-sign-up-form data-action="update"
                  data-me="$ctrl.me"
                  data-on-rules-updated="$ctrl.onRulesUpdated.bind($ctrl)">
        <oui-stepper data-current-index="1"
                     data-on-finish="$ctrl.onStepperFinished()">
            <oui-step-form data-header="{{ :: 'sign_up_form_identity_step_title' | translate }}"
                           data-valid="true"
                           data-editable="false">
            </oui-step-form>
            <oui-step-form data-header="{{ :: 'sign_up_form_details_step_title' | translate }}"
                           data-on-focus="$ctrl.onStepFocus('details')"
                           data-ng-class="{ 'oui-stepper__step_form_active': $ctrl.isActiveStep('details') }"
                           data-prevent-next="true">
                <div data-ui-view="details"></div>
            </oui-step-form>
            <oui-step-form data-header="{{ $ctrl.me.model.legalform !== 'individual' ? 'sign_up_form_activity_step_title' : 'sign_up_form_other_informations_step_title' | translate }}"
                           data-on-focus="$ctrl.onStepFocus('activity')"
                           data-ng-class="{ 'oui-stepper__step_form_active': $ctrl.isActiveStep('activity') }"
                           data-ng-if="$ctrl.isActivityStepVisible"
                           data-prevent-next="true">
                <div data-ui-view="activity"></div>
            </oui-step-form>
        </oui-stepper>
    </ovh-sign-up-form>
</div>
